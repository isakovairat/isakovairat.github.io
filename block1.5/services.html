<!doctype html>
<html lang="ru">

<head>
	<meta charset="UTF-8">
	<meta name="viewport"
		content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<link rel="stylesheet" href="./TTLakes/stylesheet.css">
	<link rel="stylesheet" href="https://unpkg.com/swiper/css/swiper.min.css">
	<link rel="stylesheet" href="./services.css">
	<link rel="stylesheet" href="./services-mobile.css">
	<title>Сервисы</title>
</head>

<body>
	<section>
		<div class="services">
			<div class="services__header services__header_mobile">
				<p class="services__text">Ремонт техники различных брендов</p>
			</div>
			<div class="services__brands swiper-container">
				<div class="services__wrapper swiper-wrapper">
					<div class="card swiper-slide">
						<img class="card__logo" src="./img/lenovo.svg" alt="lenovo">
						<a href="#" class="card__link">
							<button class="card__btn"></button>
						</a>
					</div>
					<div class="card swiper-slide">
						<img class="card__logo" src="./img/samsung.svg" alt="samsung">
						<a href="#" class="card__link">
							<button class="card__btn"></button>
						</a>
					</div>
					<div class="card swiper-slide">
						<img class="card__logo" src="./img/apple.svg" alt="apple">
						<a href="#" class="card__link">
							<button class="card__btn"></button>
						</a>
					</div>
					<div class="card swiper-slide">
						<img class="card__logo" src="./img/bosch.svg" alt="bosch">
						<a href="#" class="card__link">
							<button class="card__btn"></button>
						</a>
					</div>
					<div class="card swiper-slide">
						<img class="card__logo" src="./img/hp.svg" alt="hp">
						<a href="#" class="card__link">
							<button class="card__btn"></button>
						</a>
					</div>
					<div class="card swiper-slide">
						<img class="card__logo" src="./img/acer.svg" alt="acer">
						<a href="#" class="card__link">
							<button class="card__btn"></button>
						</a>
					</div>
					<div class="card swiper-slide">
						<img class="card__logo" src="./img/viewsonic.svg" alt="viewsonic">
						<a href="#" class="card__link">
							<button class="card__btn"></button>
						</a>
					</div>
					<div class="card swiper-slide">
						<img class="card__logo" src="./img/sony.svg" alt="sony">
						<a href="#" class="card__link">
							<button class="card__btn"></button>
						</a>
					</div>
					<div class="card swiper-slide">
						<img class="card__logo" src="./img/lenovo.svg" alt="lenovo">
						<a href="#" class="card__link">
							<button class="card__btn"></button>
						</a>
					</div>
					<div class="card swiper-slide">
						<img class="card__logo" src="./img/samsung.svg" alt="samsung">
						<a href="#" class="card__link">
							<button class="card__btn"></button>
						</a>
					</div>
					<div class="card swiper-slide">
						<img class="card__logo" src="./img/apple.svg" alt="apple">
						<a href="#" class="card__link">
							<button class="card__btn"></button>
						</a>
					</div>
				</div>
				<div class="swiper-pagination"></div>
			</div>
			<div class="services__additional">
				<img class="services__additional-img" src="./img/next.svg" alt="">
				<button class="services__additional-btn">
					Показать все
				</button>
			</div>
		</div>

	</section>

	<!-- Swiper JS -->
	<script src="https://unpkg.com/swiper/js/swiper.min.js"></script>
	<script>
		let showAll = document.querySelector(".services__additional-btn");
		const breakpoint = window.matchMedia('(min-width: 320px) and (max-width: 767px)');
		let swiper;

		showAll.addEventListener('click', showHidden);

		function showHidden() {
			if (this.textContent === 'Показать все') {
				this.textContent = 'Скрыть';
				document.querySelector('.services__brands').style.height = 'auto';
				document.querySelector('.services__additional-img').style.transform = 'rotate(180deg)';

			} else {
				this.textContent = 'Показать все';
				document.querySelector('.services__brands').style.height = '175px';
				document.querySelector('.services__additional-img').style.transform = 'rotate(0deg)';
			}
		}

		const breakpointChecker = function () {
			if (breakpoint.matches === false) {
				if (swiper) {
					swiper.destroy(true, true);
					document.querySelector('.swiper-pagination').style.display = 'none';
				}
				return ;
			}
			else if (breakpoint.matches === true) {
				return enableSwiper();
			}
		}

		const enableSwiper = function () {
			swiper = new Swiper ('.swiper-container', {
				slidesPerView: 'auto',
				pagination: {
					el: '.swiper-pagination',
					clickable: true,
				}
			});
			document.querySelector('.swiper-pagination').style.display = 'block';
		}

		window.addEventListener('resize', breakpointChecker);
		breakpointChecker();
	</script>
</body>

</html>
